import React,{Component} from 'react';
import {toFloatNumbers} from "_helpers";
import moment from "moment";

class DepositCard extends Component{
  constructor(props){
    super(props);

  }

  renderDepositTerms(start, end) {
    start = moment(start);
    let passed = moment().diff(start, 'days');
    let duration = moment(end).diff(start, 'days'); // 1
    return passed+'/'+duration;  // 55 / 100 days template
  }

  render(){
    let {
      props: {
        deposit,
        tradePlan,
        index
      },
      renderDepositTerms
    } = this;

    return (
      <div className="project-card__block">
        <div className="project__title d-flex justify-content-between align-items-center">
          <span className="h3 font-weight-light text-capitalize">
            {tradePlan ? tradePlan.name : ''}
          </span>
          <span className="badge ui-fz-14 text-secondary">#{index+1}</span>
        </div>
        <dl className="project__details ui-fz-14 text-dark">
          <div className="line d-flex">
            <dt className="text-light-grey">Deposit:</dt>
            <dd className="flex-1 font-weight-bold">{deposit.initial_money}€</dd>
          </div>
          <div className="line d-flex">
            <dt className="text-light-grey">Available:</dt>
            <dd className="flex-1 font-weight-bold">{toFloatNumbers(deposit.earned)} / {toFloatNumbers(deposit.avilable)}€</dd>
          </div>
          <div className="line d-flex">
            <dt className="text-light-grey">Period:</dt>
            <dd className="flex-1 font-weight-bold">{renderDepositTerms(deposit.date, deposit.date_end)} days</dd>
          </div>
          <div className="line d-flex">
            <dt className="text-light-grey">Per day:</dt>
            <dd className="flex-1 font-weight-bold">{toFloatNumbers(deposit.accumulation)/100}€</dd>
          </div>
            <div className="line d-flex">
                <dt className="text-light-grey">Payment:</dt>
                <dd className="flex-1 font-weight-bold">{deposit.title}</dd>
            </div>
            <div className="line d-flex">
                <dt className="text-light-grey">Date:</dt>
                <dd className="flex-1 font-weight-bold">{deposit.date}</dd>
            </div>
        </dl>
      </div>
    )
  }
}

export default DepositCard;
